<mat-toolbar id="CustToolbar">
    <span>
        <div style="font-size:40px ; font-family:'Times New Roman', Times, serif; color: white;">
            <img src="/assets/Images/logo.png" alt="logo" style="width: 40px; height: 40px;" class="mb-2" />
            Telessist
        </div>
    </span>
</mat-toolbar>


<h4 style="text-align: center; margin-top: 1%; margin-bottom: 1%;">Update Call Log</h4>

<div class="container text-center">
    <form [formGroup]="updatedForm" (ngSubmit)="updateCallLog()">
        <div>
            <mat-form-field class="field">
                <mat-label>Call Log ID</mat-label>
                <input matInput value="{{callLog.callLogId}}" formControlName="callLogId" readonly>
            </mat-form-field>

            <mat-form-field class="field">
                <mat-label>CSR ID</mat-label>
                <input matInput value="{{callLog.csrId}}" formControlName="csrId" readonly>
            </mat-form-field>

            <mat-form-field class="field">
                <mat-label>Client ID</mat-label>
                <input matInput value="{{callLog.clientId}}" formControlName="clientId" readonly>
            </mat-form-field>

            <mat-form-field class="field">
                <mat-label>Request ID</mat-label>
                <input matInput value="{{callLog.requestId}}" formControlName="requestId" readonly>
            </mat-form-field>

            <mat-form-field class="field">
                <mat-label>Call Log Date </mat-label>
                <input matInput value="{{callLog.callDate}}" formControlName="callDate" readonly>
            </mat-form-field>

            <mat-form-field class="field">
                <mat-label>Call Log Time </mat-label>
                <input matInput value="{{callLog.callTime}}" formControlName="callTime">
            </mat-form-field>
        </div>
        <div class="error-desc">
            <small *ngIf="updatedForm.get('callTime')?.touched && updatedForm.get('callTime')?.hasError('required')">Call Time is required</small>
        </div>

        <div>
            <mat-form-field class="field">
                <mat-label>Call Log Solution</mat-label>
                <textarea matInput value="{{callLog.callSolution}}" formControlName="callSolution"></textarea>
            </mat-form-field>
        </div>
        <div class="error-desc">
            <small *ngIf="updatedForm.get('callSolution')?.touched && updatedForm.get('callSolution')?.hasError('required')">Call Solution is required</small>
        </div>

        <div>
            <mat-form-field appearance="fill" class="callTypeDropDown">
                <mat-label>Call Log Type </mat-label>
                <mat-select required formControlName="callType">
                  <mat-option *ngFor="let type of callLogType" [value]="type">{{type}}</mat-option>
                </mat-select>
            </mat-form-field>
            <div class="error-desc">
                <small *ngIf="updatedForm.get('callType')?.touched && updatedForm.get('callType')?.hasError('required')">Call Type is required</small>
            </div>

            <mat-form-field appearance="fill" class="status">
                <mat-label>Call Log Description </mat-label>
                <mat-select required formControlName="callDesc">
                  <mat-option *ngFor="let desc of callLogDesc" [value]="desc">{{desc}}</mat-option>
                </mat-select>
            </mat-form-field>

            <div class="error-desc">
                <small *ngIf="updatedForm.get('callDesc')?.touched && updatedForm.get('callDesc')?.hasError('required')">Call Description is required</small>
            </div>
            
            <div class = "addCancelButtons">
                <button mat-raised-button mat-dialog-close type="submit" style="background-color: #31A4BC; color: white;"
                    class="btnlogin">Update log</button> 
                  <button mat-raised-button mat-dialog-close style="background-color: #b95b5b; color: white;"
                        class="btnlogin">Cancel
                        </button>
                    </div>
    
        </div>
    </form>
</div>

