<h2 style="text-align: center; margin-top: 1%;">Call Statistics</h2>

<div id="searchTool">
  <div class="search">
    <mat-form-field style="width:20em">
    <mat-label>Search By CSR Id</mat-label>
    <input matInput color="primary" (keyup)="applyFilter($event)" placeholder="" #input>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="fill" id="datepicker">
        <mat-label>Choose a Date</mat-label>
        <mat-date-range-input [rangePicker] = "picker">
            <input [(ngModel)] = "this.start" matStartDate placeholder="Start date">
            <input [(ngModel)] = "this.end" matEndDate placeHolder="End date">
        </mat-date-range-input>
        <mat-hint>mm/dd/yyyy - mm/dd/yyyy</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker (closed)="applyDateFilter(picker)"></mat-date-range-picker>
    </mat-form-field>
  </div>
</div>

<div style="margin-top: 2%;">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <ng-container matColumnDef="week">
          <th mat-header-cell *matHeaderCellDef> Week </th>
          <td mat-cell *matCellDef="let row"> {{row.week}}</td>
        </ng-container>
        <ng-container matColumnDef="agentId">
          <th mat-header-cell *matHeaderCellDef> CSR Agent ID </th>
          <td mat-cell *matCellDef="let row"> {{row.agentId}}</td>
        </ng-container>

        <ng-container matColumnDef="agentName">
            <th mat-header-cell *matHeaderCellDef> CSR Agent Name </th>
            <td mat-cell *matCellDef="let row"> {{row.agentName}}</td>
          </ng-container>

          <ng-container matColumnDef="rating">
            <th mat-header-cell *matHeaderCellDef> Rating </th>
            <td mat-cell *matCellDef="let row"> {{row.rating}}</td>
          </ng-container>

          <ng-container matColumnDef="avgcalltime">
            <th mat-header-cell *matHeaderCellDef> Average Time Per Call </th>
            <td mat-cell *matCellDef="let row"> {{row.avgpercall}}</td>
          </ng-container>

          <ng-container matColumnDef="numcalltaken">
            <th mat-header-cell *matHeaderCellDef> Number of Call Taken </th>
            <td mat-cell *matCellDef="let row"> {{row.incomingcall}}</td>
          </ng-container>
    
        <ng-container matColumnDef="numcallmade">
          <th mat-header-cell *matHeaderCellDef> Number of Call Made </th>
          <td mat-cell *matCellDef="let row"> {{row.outgoingcall}}</td>
        </ng-container>
        
        <ng-container matColumnDef="serveadded">
          <th mat-header-cell *matHeaderCellDef> Number of Services Added </th>
          <td mat-cell *matCellDef="let row"> {{row.serviceadded}}</td>
        </ng-container>
    
        <tr style="background-color: rgb(199, 239, 230);" mat-header-row *matHeaderRowDef="displayedStatsColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedStatsColumns;"></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="5">No data matching the filter "{{input.value}}"</td>
        </tr>
    </table>
    
    <mat-paginator id="paginator" [pageSizeOptions]="[5, 10, 20]"
                 showFirstLastButtons
                 aria-label="Select page of periodic elements">
  </mat-paginator>
</div>






